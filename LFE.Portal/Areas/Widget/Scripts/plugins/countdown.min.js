(function(n){"use strict";n.extend=function(t,i){var r,u;if(t=t||{},arguments.length>2)for(r=1;r<arguments.length;r++)n.extend(t,arguments[r]);else for(u in i)i.hasOwnProperty(u)&&(t[u]=i[u]);return t};var t=function(t){this.conf=n.extend({dateStart:new Date,dateEnd:new Date((new Date).getTime()+864e5),selector:".timer",msgBefore:"Be ready!",msgAfter:"It's over, sorry folks!",msgPattern:"{days} days, {hours} hours, {minutes} minutes and {seconds} seconds left.",onStart:null,onEnd:null,leadingZeros:!1},t);this.selector=document.querySelectorAll(this.conf.selector);this.interval=1e3;this.now=new Date;this.patterns=[{pattern:"{years}",secs:31536e3},{pattern:"{months}",secs:2628e3},{pattern:"{weeks}",secs:604800},{pattern:"{days}",secs:86400},{pattern:"{hours}",secs:3600},{pattern:"{minutes}",secs:60},{pattern:"{seconds}",secs:1}];this.timer=null;this.init()};t.prototype.init=function(){this.defineInterval();this.now<this.conf.dateEnd&&this.now>=this.conf.dateStart?(this.run(),this.callback("start")):this.outOfInterval()};t.prototype.run=function(){var r=this.now.valueOf()/1e3,u=this.conf.dateEnd.valueOf()/1e3,i=Math.abs(u-r),t=this;t.timer=n.setInterval(function(){i--;i>0?t.display(i):(n.clearInterval(t.timer),t.outOfInterval(),t.callback("end"))},this.interval);this.display(i)};t.prototype.stop=function(){console.log("timer stopping");var t=this;console.log(t);n.clearInterval(t.timer);t.conf.onEnd=null};t.prototype.display=function(n){for(var t,i,e,r,u=this.conf.msgPattern,f=0;f<this.patterns.length;f++)t=this.patterns[f],this.conf.msgPattern.indexOf(t.pattern)!==-1&&(i=Math.floor(n/t.secs),e=this.conf.leadingZeros&&i<=9?"0"+i:i,n-=i*t.secs,u=u.replace(t.pattern,e));for(r=0;r<this.selector.length;r++)this.selector[r].innerHTML=u};t.prototype.defineInterval=function(){for(var t,n=this.patterns.length;n>0;n--)if(t=this.patterns[n-1],this.conf.msgPattern.indexOf(t.pattern)!==-1){this.interval=t.secs*1e3;return}};t.prototype.outOfInterval=function(){for(var t=this.now<this.conf.dateStart?this.conf.msgBefore:this.conf.msgAfter,n=0;n<this.selector.length;n++)this.selector[n].innerHTML=t};t.prototype.callback=function(t){t=t.capitalize();typeof this.conf["on"+t]=="function"&&this.conf["on"+t]();typeof n.jQuery!="undefined"&&n.jQuery(this.conf.selector).trigger("countdown"+t)};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};n.Countdown=t})(window);
//# sourceMappingURL=countdown.min.js.map
